#include "tampa_array.h"

#include <GL/gl.h>

TampaArray::TampaArray ()
: m_coords{
    // back face: counter clockwise 
    -0.5f, 0.0f,-0.5f,
    -0.5f, 1.0f,-0.5f,
     0.5f, 1.0f,-0.5f,
     0.5f, 0.0f,-0.5f,
    // front face: counter clockwise 
    -0.5f, 0.0f, 0.5f,
     0.5f, 0.0f, 0.5f,
     0.5f, 1.0f, 0.5f,
    -0.5f, 1.0f, 0.5f,
    // left face: counter clockwise
    -0.5f, 0.0f,-0.5f,
    -0.5f, 0.0f, 0.5f,
    -0.5f, 1.0f, 0.5f,
    -0.5f, 1.0f,-0.5f,
    // right face: counter clockwise
     0.5f, 0.0f,-0.5f,
     0.5f, 1.0f,-0.5f,
     0.5f, 1.0f, 0.5f,
     0.5f, 0.0f, 0.5f,
    // botton face: counter clockwise 
    -0.5f, 0.0f,-0.5f,
     0.5f, 0.0f,-0.5f,
     0.5f, 0.0f, 0.5f,
    -0.5f, 0.0f, 0.5f,
    // top face: counter clockwise
    // -0.5f, 1.0f,-0.5f,
    // -0.5f, 1.0f, 0.5f,
    //  0.5f, 1.0f, 0.5f,
    //  0.5f, 1.0f,-0.5f
    -0.5+1.0f/6.0f*0.0f, 1.0f, -0.5+1.0f/6.0f*0.0f,
    -0.5+1.0f/6.0f*0.0f, 1.0f, -0.5+1.0f/6.0f*1.0f,
    -0.5+1.0f/6.0f*0.0f, 1.0f, -0.5+1.0f/6.0f*2.0f,
    -0.5+1.0f/6.0f*0.0f, 1.0f, -0.5+1.0f/6.0f*3.0f,
    -0.5+1.0f/6.0f*0.0f, 1.0f, -0.5+1.0f/6.0f*4.0f,
    -0.5+1.0f/6.0f*0.0f, 1.0f, -0.5+1.0f/6.0f*5.0f,
    -0.5+1.0f/6.0f*0.0f, 1.0f, -0.5+1.0f/6.0f*6.0f,
    -0.5+1.0f/6.0f*1.0f, 1.0f, -0.5+1.0f/6.0f*0.0f,
    -0.5+1.0f/6.0f*1.0f, 1.0f, -0.5+1.0f/6.0f*1.0f,
    -0.5+1.0f/6.0f*1.0f, 1.0f, -0.5+1.0f/6.0f*2.0f,
    -0.5+1.0f/6.0f*1.0f, 1.0f, -0.5+1.0f/6.0f*3.0f,
    -0.5+1.0f/6.0f*1.0f, 1.0f, -0.5+1.0f/6.0f*4.0f,
    -0.5+1.0f/6.0f*1.0f, 1.0f, -0.5+1.0f/6.0f*5.0f,
    -0.5+1.0f/6.0f*1.0f, 1.0f, -0.5+1.0f/6.0f*6.0f,
    -0.5+1.0f/6.0f*2.0f, 1.0f, -0.5+1.0f/6.0f*0.0f,
    -0.5+1.0f/6.0f*2.0f, 1.0f, -0.5+1.0f/6.0f*1.0f,
    -0.5+1.0f/6.0f*2.0f, 1.0f, -0.5+1.0f/6.0f*2.0f,
    -0.5+1.0f/6.0f*2.0f, 1.0f, -0.5+1.0f/6.0f*3.0f,
    -0.5+1.0f/6.0f*2.0f, 1.0f, -0.5+1.0f/6.0f*4.0f,
    -0.5+1.0f/6.0f*2.0f, 1.0f, -0.5+1.0f/6.0f*5.0f,
    -0.5+1.0f/6.0f*2.0f, 1.0f, -0.5+1.0f/6.0f*6.0f,
    -0.5+1.0f/6.0f*3.0f, 1.0f, -0.5+1.0f/6.0f*0.0f,
    -0.5+1.0f/6.0f*3.0f, 1.0f, -0.5+1.0f/6.0f*1.0f,
    -0.5+1.0f/6.0f*3.0f, 1.0f, -0.5+1.0f/6.0f*2.0f,
    -0.5+1.0f/6.0f*3.0f, 1.0f, -0.5+1.0f/6.0f*3.0f,
    -0.5+1.0f/6.0f*3.0f, 1.0f, -0.5+1.0f/6.0f*4.0f,
    -0.5+1.0f/6.0f*3.0f, 1.0f, -0.5+1.0f/6.0f*5.0f,
    -0.5+1.0f/6.0f*3.0f, 1.0f, -0.5+1.0f/6.0f*6.0f,
    -0.5+1.0f/6.0f*4.0f, 1.0f, -0.5+1.0f/6.0f*0.0f,
    -0.5+1.0f/6.0f*4.0f, 1.0f, -0.5+1.0f/6.0f*1.0f,
    -0.5+1.0f/6.0f*4.0f, 1.0f, -0.5+1.0f/6.0f*2.0f,
    -0.5+1.0f/6.0f*4.0f, 1.0f, -0.5+1.0f/6.0f*3.0f,
    -0.5+1.0f/6.0f*4.0f, 1.0f, -0.5+1.0f/6.0f*4.0f,
    -0.5+1.0f/6.0f*4.0f, 1.0f, -0.5+1.0f/6.0f*5.0f,
    -0.5+1.0f/6.0f*4.0f, 1.0f, -0.5+1.0f/6.0f*6.0f,
    -0.5+1.0f/6.0f*5.0f, 1.0f, -0.5+1.0f/6.0f*0.0f,
    -0.5+1.0f/6.0f*5.0f, 1.0f, -0.5+1.0f/6.0f*1.0f,
    -0.5+1.0f/6.0f*5.0f, 1.0f, -0.5+1.0f/6.0f*2.0f,
    -0.5+1.0f/6.0f*5.0f, 1.0f, -0.5+1.0f/6.0f*3.0f,
    -0.5+1.0f/6.0f*5.0f, 1.0f, -0.5+1.0f/6.0f*4.0f,
    -0.5+1.0f/6.0f*5.0f, 1.0f, -0.5+1.0f/6.0f*5.0f,
    -0.5+1.0f/6.0f*5.0f, 1.0f, -0.5+1.0f/6.0f*6.0f,
    -0.5+1.0f/6.0f*6.0f, 1.0f, -0.5+1.0f/6.0f*0.0f,
    -0.5+1.0f/6.0f*6.0f, 1.0f, -0.5+1.0f/6.0f*1.0f,
    -0.5+1.0f/6.0f*6.0f, 1.0f, -0.5+1.0f/6.0f*2.0f,
    -0.5+1.0f/6.0f*6.0f, 1.0f, -0.5+1.0f/6.0f*3.0f,
    -0.5+1.0f/6.0f*6.0f, 1.0f, -0.5+1.0f/6.0f*4.0f,
    -0.5+1.0f/6.0f*6.0f, 1.0f, -0.5+1.0f/6.0f*5.0f,
    -0.5+1.0f/6.0f*6.0f, 1.0f, -0.5+1.0f/6.0f*6.0f,
     
  },
  m_normals{
    // back face: counter clockwise 
     0.0f, 0.0f,-1.0f,
     0.0f, 0.0f,-1.0f,
     0.0f, 0.0f,-1.0f,
     0.0f, 0.0f,-1.0f,
    // front face: counter clockwise 
     0.0f, 0.0f, 1.0f,
     0.0f, 0.0f, 1.0f,
     0.0f, 0.0f, 1.0f,
     0.0f, 0.0f, 1.0f,
    // left face: counter clockwise
    -1.0f, 0.0f, 0.0f,
    -1.0f, 0.0f, 0.0f,
    -1.0f, 0.0f, 0.0f,
    -1.0f, 0.0f, 0.0f,
    // right face: counter clockwise
     1.0f, 0.0f, 0.0f,
     1.0f, 0.0f, 0.0f,
     1.0f, 0.0f, 0.0f,
     1.0f, 0.0f, 0.0f,
    // botton face: counter clockwise 
     0.0f,-1.0f, 0.0f,
     0.0f,-1.0f, 0.0f,
     0.0f,-1.0f, 0.0f,
     0.0f,-1.0f, 0.0f,
    // top face: counter clockwise
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f,
     0.0f, 1.0f, 0.0f
     
  },
  m_index{
    0,1,2,0,2,3,
    4,5,6,4,6,7,
    8,9,10,8,10,11,
    12,13,14,12,14,15,
    16,17,18,16,18,19,
    20,21,28,20,28,27,
    21,22,29,21,29,28,
    22,23,30,22,30,29,
    23,24,31,23,31,30,
    24,25,32,24,32,31,
    25,26,33,25,33,32,
    27,28,35,27,35,34,
    28,29,36,28,36,35,
    29,30,37,29,37,36,
    30,31,38,30,38,37,
    31,32,39,31,39,38,
    32,33,40,32,40,39,
    34,35,42,34,42,41,
    35,36,43,35,43,42,
    36,37,44,36,44,43,
    37,38,45,37,45,44,
    38,39,46,38,46,45,
    39,40,47,39,47,46,
    41,42,49,41,49,48,
    42,43,50,42,50,49,
    43,44,51,43,51,50,
    44,45,52,44,52,51,
    45,46,53,45,53,52,
    46,47,54,46,54,53,
    48,49,56,48,56,55,
    49,50,57,49,57,56,
    50,51,58,50,58,57,
    51,52,59,51,59,58,
    52,53,60,52,60,59,
    53,54,61,53,61,60,
    55,56,63,55,63,62,
    56,57,64,56,64,63,
    57,58,65,57,65,64,
    58,59,66,58,66,65,
    59,60,67,59,67,66,
    60,61,68,60,68,67
  }
{
}

TampaArrayPtr TampaArray::Make ()
{
  return TampaArrayPtr(new TampaArray());
}

TampaArray::~TampaArray () 
{
}

void TampaArray::Draw ()
{
  glVertexPointer(3, GL_FLOAT, 0, m_coords);
  glNormalPointer(GL_FLOAT, 0, m_normals);
  glEnableClientState(GL_VERTEX_ARRAY);
  glEnableClientState(GL_NORMAL_ARRAY);
  glDrawElements(GL_TRIANGLES,5*6 + (7-1)*(7-1)*6,GL_UNSIGNED_INT,m_index);
  glDisableClientState(GL_NORMAL_ARRAY);
  glDisableClientState(GL_VERTEX_ARRAY);
}
